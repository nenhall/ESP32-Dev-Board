; PlatformIO Project Configuration File for ESP32-WROOM
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32dev]
; ─────────────────────────────────────────────────────────────────
; 开发平台和开发板配置
; ─────────────────────────────────────────────────────────────────
platform = espressif32          ; ESP32 开发平台
board = esp32dev                ; 开发板型号: ESP32 Dev Module
framework = arduino             ; 使用 Arduino 框架

; ─────────────────────────────────────────────────────────────────
; 串口配置
; ─────────────────────────────────────────────────────────────────
monitor_speed = 115200          ; 串口监视器波特率

; ─────────────────────────────────────────────────────────────────
; 上传配置
; ─────────────────────────────────────────────────────────────────
upload_speed = 921600           ; 上传速度 (115200, 230400, 460800, 921600)
upload_port = COM3              ; 上传端口 (Windows: COMx, Linux/Mac: /dev/ttyUSBx)

; ─────────────────────────────────────────────────────────────────
; 编译选项
; ─────────────────────────────────────────────────────────────────
; build_type = debug            ; 构建类型 (debug, release)
; build_flags =                 ; 编译标志
;     -DARDUINO_USB_CDC_ON_BOOT=1

; ─────────────────────────────────────────────────────────────────
; 库依赖
; ─────────────────────────────────────────────────────────────────
lib_deps =
    ; WiFi 由 Arduino 框架默认提供，无需显式声明

    ; OLED 显示屏库
    olikraus/U8g2@~2.34.17

    ; JSON 处理库
    bblanchon/ArduinoJson@~7.0.4

    ; NimBLE 蓝牙库
    h2zero/NimBLE-Arduino@^1.4.1

    ; HTTP 客户端库（ESP32 内置，无需额外安装）

; ─────────────────────────────────────────────────────────────────
; 调试配置
; ─────────────────────────────────────────────────────────────────
; debug_tool = esp-prog         ; 调试工具
; debug_init_break = tbreak setup

; ─────────────────────────────────────────────────────────────────
; 串口监视器过滤器
; ─────────────────────────────────────────────────────────────────
; 自动解码 ESP32 异常信息
monitor_filters =
    esp32_exception_decoder
    time

; ─────────────────────────────────────────────────────────────────
; 分区方案
; ─────────────────────────────────────────────────────────────────
; 默认: 1.2MB APP, 1.5MB SPIFFS
; board_build.partitions = default.csv
; 使用允许更大应用空间的分区表（如果目标板支持）
board_build.partitions = huge_app.csv

; ─────────────────────────────────────────────────────────────────
; 其他环境配置示例
; ─────────────────────────────────────────────────────────────────

; [env:esp32-idf]
; 使用 ESP-IDF 框架 (更专业，但配置更复杂)
; platform = espressif32
; board = esp32dev
; framework = espidf

; [env:esp32-c3]
; ESP32-C3 开发板
; platform = espressif32
; board = esp32-c3-devkitm-1
; framework = arduino
